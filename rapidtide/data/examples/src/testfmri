#!/bin/bash

#for fittype in None quad fastquad COM gauss fastgauss
for fittype in gauss
do
    rapidtide \
            --searchrange -10 15 \
            --spatialfilt 2 \
            --numnull 50000 \
            --nprocs 1 \
            --passes 3 \
            --nofitfilt \
            --despecklepasses 4 \
            --acfix \
            --filterband lfo \
            --corrweighting regressor \
            --corrtype linear \
            --peakfittype ${fittype} \
            sub-RAPIDTIDETEST.nii.gz \
            ../dst/sub-RAPIDTIDETEST_${fittype}_singleproc
#    rapidtide \
#            --searchrange -10 15 \
#	    --spatialfilt 2 \
#            --nprocs -1 \
#            --passes 3 \
#            --nofitfilt \
#            --despecklepasses 4 \
#            --acfix \
#            --filterband lfo \
#            --corrweighting regressor \
#            --corrtype linear \
#            --peakfittype ${fittype} \
#            sub-RAPIDTIDETEST.nii.gz \
#            ../dst/sub-RAPIDTIDETEST_${fittype}_multiproc
    rapidtide \
            --searchrange -10 15 \
	    --spatialfilt 2 \
            --numnull 50000 \
            --nprocs -1 \
            --passes 3 \
            --nofitfilt \
            --despecklepasses 4 \
            --acfix \
            --filterband lfo \
            --corrweighting regressor \
            --corrtype linear \
            --peakfittype ${fittype} \
            sub-RAPIDTIDETEST.nii.gz \
            ../dst/sub-RAPIDTIDETEST_${fittype}_multiproc_alloff
#            --singleproc_fitcorr \
#            --singleproc_getNullDist \
#            --singleproc_calcsimilarity \
#            --singleproc_peakeval \
#            --singleproc_refine \
#            --singleproc_makelaggedtcs \
#            --singleproc_glm \

    ../extrasrc/diffmaps \
        ../dst/sub-RAPIDTIDETEST_${fittype}_multiproc_alloff \
        ../dst/sub-RAPIDTIDETEST_${fittype}_singleproc \
        ../dst/thediff_${fittype}
done

#rapidtide \
	#--spatialfilt 2 \
        #--nprocs -1 \
        #--passes 3 \
        #--nofitfilt \
        #--similaritymetric hybrid \
        #--norefinedespeckled \
        #--CVR \
        #--regressor lforegressor_0p5x.txt \
        #--filterband lfo \
        #--corrtype linear \
        #sub-RAPIDTIDETEST.nii.gz \
        #../dst/sub-RAPIDTIDETEST_CVR0p5x

#rapidtide \
	#--spatialfilt 2 \
        #--nprocs -1 \
        #--passes 3 \
        #--similaritymetric hybrid \
        #--norefinedespeckled \
        #--filterband lfo \
        #--corrtype linear \
        #sub-RAPIDTIDETEST.nii.gz \
        #../dst/sub-RAPIDTIDETEST

#rapidtide \
#	--spatialfilt 2 \
#        --nprocs -1 \
#        --passes 3 \
#        --similaritymetric hybrid \
#        --norefinedespeckled \
#        --filterband lfo \
#        --nolimitoutput \
#        --corrtype linear \
#        --preservefiltering \
#        --singleproc_glm \
#        sub-RAPIDTIDETEST.nii.gz \
#        ../dst/sub-RAPIDTIDETEST_preserve

#rapidtide \
	##--spatialfilt 2 \
        #--nprocs -1 \
        #--passes 3 \
        #--similaritymetric hybrid \
        #--norefinedespeckled \
        #--filterband lfo \
        #--nolimitoutput \
        #--corrtype circular \
        #sub-RAPIDTIDETEST.nii.gz \
        #../dst/sub-RAPIDTIDETEST_circular
#
#rapidtide \
	#--spatialfilt 2 \
        #--nprocs -1 \
        #--passes 3 \
        #--similaritymetric hybrid \
        #--norefinedespeckled \
        #--filterband lfo \
        #--nolimitoutput \
        #--corrtype circular \
        #--nowindow \
        #sub-RAPIDTIDETEST.nii.gz \
        #../dst/sub-RAPIDTIDETEST_circular_nowin
#
#rapidtide \
	#--spatialfilt 2 \
        #--nprocs -1 \
        #--passes 3 \
        #--similaritymetric hybrid \
        #--norefinedespeckled \
        #--filterband lfo \
        #--nolimitoutput \
        #--zeropadding -1 \
        #--corrtype linear \
        #--windowfunc hamming \
        #sub-RAPIDTIDETEST.nii.gz \
        ####../dst/sub-RAPIDTIDETEST_linear_hamming
