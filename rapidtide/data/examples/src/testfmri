#!/bin/bash

rapidtide \
    --nprocs -1 \
    --passes 6 \
    --glmderivs 1 \
    --peakfittype gausscf \
    --nolimitoutput \
    sub-RAPIDTIDETEST.nii.gz \
    ../dst/sub-RAPIDTIDETEST_1deriv_gausscf

rapidtide \
    --nprocs -1 \
    --passes 6 \
    --glmderivs 1 \
    --nolimitoutput \
    sub-RAPIDTIDETEST.nii.gz \
    ../dst/sub-RAPIDTIDETEST_1deriv

#rapidtide \
#    --nprocs -1 \
#    --denoising \
#    --passes 3 \
#    --glmderivs 2 \
#    --nolimitoutput \
#    sub-RAPIDTIDETEST.nii.gz \
#    ../dst/sub-RAPIDTIDETEST_2deriv

#rapidtide \
#    --nprocs -1 \
#    --passes 1 \
#    --nolimitoutput \
#    --regressor ../dst/sub-RAPIDTIDETEST_2deriv_desc-lagtcgenerator_timeseries.json \
#    --corrmask ../dst/sub-RAPIDTIDETEST_2deriv_desc-corrfit_mask.nii.gz \
#    ../dst/sub-RAPIDTIDETEST_2deriv_desc-lfofilterRemoved_bold.nii.gz \
#    ../dst/secondpass

#rapidtide \
    #--nprocs -1 \
    #--denoising \
    #--glmderivs 1 \
    #sub-RAPIDTIDETEST.nii.gz \
    #../dst/sub-RAPIDTIDETEST_1deriv

#for fittype in None quad fastquad COM gauss fastgauss
#for fittype in gauss
#do
#    #for similaritymetric in hybrid mutualinfo correlation
#    for similaritymetric in hybrid
#    do
#	rapidtide \
#	    --similaritymetric ${similaritymetric} \
#            --isatest \
#	    --searchrange -10 15 \
#	    --numnull 50000 \
#	    --nprocs -1 \
#	    --passes 3 \
#	    --nolimitoutput \
#	    --despecklepasses 4 \
#            --numtozero 4 \
#            --saveintermediatemaps \
#            --checkpoint \
#	    --acfix \
#	    --filterband lfo \
#	    --corrweighting regressor \
#	    --corrtype linear \
#	    --peakfittype ${fittype} \
#	    sub-RAPIDTIDETEST.nii.gz \
#	    ../dst/sub-RAPIDTIDETEST
#    done
#done
##    ../extrasrc/diffmaps \
#        ../dst/sub-RAPIDTIDETEST_${fittype}_simcalcrangetrunc \
#        ../dst/sub-RAPIDTIDETEST_${fittype} \
#        ../dst/thediff_${fittype}

#rapidtide \
	#--spatialfilt 2 \
        #--nprocs -1 \
        #--passes 3 \
        #--nofitfilt \
        #--similaritymetric hybrid \
        #--norefinedespeckled \
        #--CVR \
        #--regressor lforegressor_0p5x.txt \
        #--filterband lfo \
        #--corrtype linear \
        #sub-RAPIDTIDETEST.nii.gz \
        #../dst/sub-RAPIDTIDETEST_CVR0p5x
